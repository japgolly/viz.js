<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Viz.js (ゴリ)</title>
</head>
<body>
  <script>console.log(new Date())</script>
  <script>vizWasmFile = '../dist/viz.wasm'</script>
  <!-- <script src="../dist/viz.js"></script> -->
  <script>
    // console.log("Viz: ", Viz)
    // console.log("viz: ", viz)
    // function test() { viz("digraph G {a}").then((a) => console.log(a)) }
    // test()
    // setTimeout(test, 1000)
  </script>
  <script>
    var worker = new Worker('golly-ww.js');
    function send() { worker.postMessage("digraph G {a}") }
    function sendBad() { worker.postMessage("digraph G {a ->") }
    worker.onmessage = function(e) {
      console.log('Message received from worker: ', e.data);
      if ("ready" === e.data) {
        send()
        setTimeout(sendBad, 1000)
        setTimeout(send, 2000)
      }
    }

  </script>
</body>
</html>
